<div protected>
  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-default" #parentDiv>
        <div class="panel-heading" (click)="_toggleCollapse(parentDiv)">
          <span><i class="material-icons">drag_handle</i></span>
          <span class="header-text">
            <template [ngIf]="_type != ''">
              <span class="header-type">{{_type}} </span>
              <span class="header-name">{{_name}}</span>
            </template>
            <template [ngIf]="_type == ''">
              <span class="header-type placeholder">Type </span>
              <span class="header-name placeholder">&lt;name&gt;</span>
            </template>
          </span>
        </div>
        <div class="panel-collapse collapse">
          <div class="panel-body">
            <div class="row">
              <div class="col-md-2">
                <div class="row">
                  <label for="type-select" class="col-md-3 control-label">Type</label>
                  <div class="col-md-9 type-select">
                    <select id="type-select" class="form-control" [ngModel]="_type" (ngModelChange)="_valueChange('_type', $event)">
                      <option *ngFor="#type of types; #i = index">{{type}}</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="col-md-9">
                <div class="row">
                  <input-field
                    placeholder="Name"
                    [value]="_name"
                    (valueChange)="_valueChange('_name', $event)"></input-field>
                </div>
              </div>
              <div class="col-md-1">
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div [ui-sortable]="_sortableOptions" [(ng-model)]="_valueStrings">
                  <div class="row border" *ngFor="#value of _valueStrings; #i = index">
                    <div class="col-md-3">
                      <span>Option: {{value}}</span>
                    </div>
                    <div class="col-md-12">
                      <div class="row">
                        <div class="col-md-1">
                          <span><i class="material-icons">drag_handle</i></span>
                        </div>
                        <div class="col-md-10">
                          <input-field
                            placeholder="Option"
                            [value]="_values[value]"
                            (valueChange)="_inputChange(value, $event)"
                            [completion-data]="completion"
                            (focus)="_onFocusChange(value)"
                            (blur)="_onBlurChange(value)"></input-field>
                        </div>
                        <div class="col-md-1">
                          <template [ngIf]="i != (_valueStrings.length - 1)">
                            <div class="pull-right">
                              <span (click)="_removeField(i)">
                                <i class="material-icons">highlight_off</i>
                              </span>
                            </div>
                          </template>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
